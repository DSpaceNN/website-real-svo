import {ChangeDetectionStrategy, Component, ContentChild, input, TemplateRef} from '@angular/core';
import {NgTemplateOutlet} from "@angular/common";
import {AdminLeftSidePanel} from "../../pages/admin-panel/model";

@Component({
  selector: 'app-left-sidebar-admin',
  standalone: true,
  imports: [
    NgTemplateOutlet
  ],
  template: `
   <div class="py-6 px-5" >
     <div class="flex justify-start gap-1 px-4 py-1 items-center">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
         <mask id="mask0_125_1856" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
           <rect width="24" height="24" fill="#D9D9D9"/>
         </mask>
         <g mask="url(#mask0_125_1856)">
           <path d="M18 19.425L17.1 20.325C16.9167 20.5084 16.6875 20.6 16.4125 20.6C16.1375 20.6 15.9 20.5 15.7 20.3C15.5167 20.1167 15.425 19.8834 15.425 19.6C15.425 19.3167 15.5167 19.0834 15.7 18.9L16.575 18L15.7 17.125C15.5167 16.9417 15.425 16.7125 15.425 16.4375C15.425 16.1625 15.5167 15.925 15.7 15.725C15.9 15.525 16.1375 15.425 16.4125 15.425C16.6875 15.425 16.925 15.525 17.125 15.725L18 16.6L18.875 15.7C19.0583 15.5 19.2875 15.4 19.5625 15.4C19.8375 15.4 20.075 15.5 20.275 15.7C20.475 15.9 20.575 16.1375 20.575 16.4125C20.575 16.6875 20.475 16.925 20.275 17.125L19.4 18L20.3 18.9C20.5 19.1 20.5958 19.3334 20.5875 19.6C20.5792 19.8667 20.475 20.1 20.275 20.3C20.075 20.4834 19.8417 20.5792 19.575 20.5875C19.3083 20.5959 19.075 20.5 18.875 20.3L18 19.425ZM6 19C6.28333 19 6.52083 18.9042 6.7125 18.7125C6.90417 18.5209 7 18.2834 7 18C7 17.7167 6.90417 17.4792 6.7125 17.2875C6.52083 17.0959 6.28333 17 6 17C5.71667 17 5.47917 17.0959 5.2875 17.2875C5.09583 17.4792 5 17.7167 5 18C5 18.2834 5.09583 18.5209 5.2875 18.7125C5.47917 18.9042 5.71667 19 6 19ZM6 21C5.16667 21 4.45833 20.7084 3.875 20.125C3.29167 19.5417 3 18.8334 3 18C3 17.1667 3.29167 16.4584 3.875 15.875C4.45833 15.2917 5.16667 15 6 15C6.61667 15 7.17917 15.1709 7.6875 15.5125C8.19583 15.8542 8.56667 16.3167 8.8 16.9C9.45 16.7167 9.97917 16.3584 10.3875 15.825C10.7958 15.2917 11 14.6834 11 14V10C11 8.61669 11.4875 7.43752 12.4625 6.46252C13.4375 5.48752 14.6167 5.00002 16 5.00002H17.15L16.275 4.12502C16.075 3.92502 15.9792 3.68752 15.9875 3.41252C15.9958 3.13752 16.1 2.90002 16.3 2.70002C16.5 2.50002 16.7375 2.40002 17.0125 2.40002C17.2875 2.40002 17.525 2.50002 17.725 2.70002L20.3 5.30002C20.5 5.50002 20.6 5.73336 20.6 6.00002C20.6 6.26669 20.5 6.50002 20.3 6.70002L17.7 9.30002C17.5167 9.48336 17.2875 9.57919 17.0125 9.58752C16.7375 9.59586 16.5 9.50002 16.3 9.30002C16.1 9.11669 16 8.88336 16 8.60002C16 8.31669 16.0917 8.07502 16.275 7.87502L17.15 7.00002H16C15.1667 7.00002 14.4583 7.29169 13.875 7.87502C13.2917 8.45836 13 9.16669 13 10V14C13 15.2167 12.6083 16.2875 11.825 17.2125C11.0417 18.1375 10.05 18.7084 8.85 18.925C8.65 19.5417 8.2875 20.0417 7.7625 20.425C7.2375 20.8084 6.65 21 6 21ZM6 7.42502L5.1 8.32502C4.91667 8.50836 4.6875 8.60002 4.4125 8.60002C4.1375 8.60002 3.9 8.50002 3.7 8.30002C3.51667 8.11669 3.425 7.88336 3.425 7.60002C3.425 7.31669 3.51667 7.08336 3.7 6.90002L4.575 6.00002L3.7 5.12502C3.51667 4.94169 3.425 4.71252 3.425 4.43752C3.425 4.16252 3.51667 3.92502 3.7 3.72502C3.9 3.52502 4.1375 3.42502 4.4125 3.42502C4.6875 3.42502 4.925 3.52502 5.125 3.72502L6 4.60002L6.875 3.70002C7.05833 3.50002 7.2875 3.40002 7.5625 3.40002C7.8375 3.40002 8.075 3.50002 8.275 3.70002C8.475 3.90002 8.575 4.13752 8.575 4.41252C8.575 4.68752 8.475 4.92502 8.275 5.12502L7.4 6.00002L8.3 6.90002C8.5 7.10002 8.59583 7.33336 8.5875 7.60002C8.57917 7.86669 8.475 8.10002 8.275 8.30002C8.075 8.48336 7.84167 8.57919 7.575 8.58752C7.30833 8.59586 7.075 8.50002 6.875 8.30002L6 7.42502Z" fill="#161616"/>
         </g>
       </svg>
     <h2 class="text-[18px] font-bold">{{sidebarItems().menuTitle}}</h2>

     </div>
     @for (item of sidebarItems().subMenu; track item) {
       <div class="flex flex-col gap-2">

       <ng-template [ngTemplateOutlet]="rowTemplate" [ngTemplateOutletContext]="{$implicit:item}"></ng-template>
       </div>
     }
   </div>
  `,
  styles: ``,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class LeftSidebarAdminComponent<T> {
  sidebarItems = input.required<AdminLeftSidePanel>()
  @ContentChild('dashboardLeft', { read: TemplateRef })
  rowTemplate!: TemplateRef<{ $implicit: any }>;
}
